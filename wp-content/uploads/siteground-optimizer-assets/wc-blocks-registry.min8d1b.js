(()=>{"use strict";var c={n:a=>{var b=a&&a.__esModule?()=>a.default:()=>a;return c.d(b,{a:b}),b},d:(d,b)=>{for(var a in b)c.o(b,a)&&!c.o(d,a)&&Object.defineProperty(d,a,{enumerable:!0,get:b[a]})},o:(a,b)=>Object.prototype.hasOwnProperty.call(a,b),r:a=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},j={},d;c.r(j),c.d(j,{__experimentalDeRegisterExpressPaymentMethod:()=>y,__experimentalDeRegisterPaymentMethod:()=>x,getExpressPaymentMethods:()=>A,getPaymentMethods:()=>z,getRegisteredBlockComponents:()=>o,getRegisteredInnerBlocks:()=>D,registerBlockComponent:()=>s,registerExpressPaymentMethod:()=>v,registerInnerBlock:()=>H,registerPaymentMethod:()=>B,registerPaymentMethodExtensionCallbacks:()=>w});const G=window.wp.deprecated;d=c.n(G);const r=window.wp.data;function e(a){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e(a)}function a(a,b,c){return(b=function(b){var a=function(a,d){var b,c;if("object"!==e(a)||null===a)return a;if(b=a[Symbol.toPrimitive],void 0!==b){if(c=b.call(a,"string"),"object"!==e(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(b);return"symbol"===e(a)?a:String(a)}(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}const E=window.React,i={},q=i,t=(c,d,a)=>{const b=((a,b)=>c=>((null==c?void 0:c.paymentRequirements)||[]).every(a=>b.includes(a))&&a(c))(c,d);return Object.values(q).some(b=>a in b)?((b,c,a)=>e=>{let d=b(e);if(d){const b={};Object.entries(c).forEach(([d,c])=>{a in c&&"function"==typeof c[a]&&(b[d]=c[a])}),d=Object.keys(b).every(c=>{try{return b[c](e)}catch(b){return console.error(`Error when executing callback for ${a} in ${c}`,b),!0}})}return d})(b,q,a):b},p=window.wp.element,f=(a,b)=>{if(null!==a&&!(0,p.isValidElement)(a))throw new TypeError(`The ${b} property for the payment method must be a React element or null.`)},n=(b,c=[])=>{const a=c.reduce((a,c)=>(b.hasOwnProperty(c)||a.push(c),a),[]);if(a.length>0)throw new TypeError("The payment method configuration object is missing the following properties:"+a.join(", "))},C=()=>null;class h{constructor(b){var c,d,e,f;a(this,"name",void 0),a(this,"content",void 0),a(this,"edit",void 0),a(this,"paymentMethodId",void 0),a(this,"supports",void 0),a(this,"icons",void 0),a(this,"label",void 0),a(this,"ariaLabel",void 0),a(this,"placeOrderButtonLabel",void 0),a(this,"savedTokenComponent",void 0),a(this,"canMakePaymentFromConfig",void 0),h.assertValidConfig(b),this.name=b.name,this.label=b.label,this.placeOrderButtonLabel=b.placeOrderButtonLabel,this.ariaLabel=b.ariaLabel,this.content=b.content,this.savedTokenComponent=b.savedTokenComponent,this.icons=b.icons||null,this.edit=b.edit,this.paymentMethodId=b.paymentMethodId||this.name,this.supports={showSavedCards:(null==b||null===(c=b.supports)||void 0===c?void 0:c.showSavedCards)||(null==b||null===(d=b.supports)||void 0===d?void 0:d.savePaymentInfo)||!1,showSaveOption:(null==b||null===(e=b.supports)||void 0===e?void 0:e.showSaveOption)||!1,features:(null==b||null===(f=b.supports)||void 0===f?void 0:f.features)||["products"]},this.canMakePaymentFromConfig=b.canMakePayment}get canMakePayment(){return t(this.canMakePaymentFromConfig,this.supports.features,this.name)}}a(h,"assertValidConfig",a=>{var b,c,e,g,h,i,j;if(a.savedTokenComponent=a.savedTokenComponent||(0,E.createElement)(C,null),n(a,["name","label","ariaLabel","content","edit","canMakePayment"]),"string"!=typeof a.name)throw new Error("The name property for the payment method must be a string");if(void 0!==a.icons&&!Array.isArray(a.icons)&&null!==a.icons)throw new Error("The icons property for the payment method must be an array or null.");if("string"!=typeof a.paymentMethodId&&void 0!==a.paymentMethodId)throw new Error("The paymentMethodId property for the payment method must be a string or undefined (in which case it will be the value of the name property).");if("string"!=typeof a.placeOrderButtonLabel&&void 0!==a.placeOrderButtonLabel)throw new TypeError("The placeOrderButtonLabel property for the payment method must be a string");if(((a,b)=>{if(null!==a&&!(0,p.isValidElement)(a)&&"string"!=typeof a)throw new TypeError("The label property for the payment method must be a React element, a string, or null.")})(a.label),f(a.content,"content"),f(a.edit,"edit"),f(a.savedTokenComponent,"savedTokenComponent"),"string"!=typeof a.ariaLabel)throw new TypeError("The ariaLabel property for the payment method must be a string");if("function"!=typeof a.canMakePayment)throw new TypeError("The canMakePayment property for the payment method must be a function.");if(void 0!==(null===(b=a.supports)||void 0===b?void 0:b.showSavedCards)&&"boolean"!=typeof(null===(c=a.supports)||void 0===c?void 0:c.showSavedCards))throw new TypeError("If the payment method includes the `supports.showSavedCards` property, it must be a boolean");if(void 0!==(null===(e=a.supports)||void 0===e?void 0:e.savePaymentInfo)&&d()("Passing savePaymentInfo when registering a payment method.",{alternative:"Pass showSavedCards and showSaveOption",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/3686"}),void 0!==(null===(g=a.supports)||void 0===g?void 0:g.features)&&!Array.isArray(null===(h=a.supports)||void 0===h?void 0:h.features))throw new Error("The features property for the payment method must be an array or undefined.");if(void 0!==(null===(i=a.supports)||void 0===i?void 0:i.showSaveOption)&&"boolean"!=typeof(null===(j=a.supports)||void 0===j?void 0:j.showSaveOption))throw new TypeError("If the payment method includes the `supports.showSaveOption` property, it must be a boolean")});class g{constructor(b){var c;a(this,"name",void 0),a(this,"content",void 0),a(this,"edit",void 0),a(this,"paymentMethodId",void 0),a(this,"supports",void 0),a(this,"canMakePaymentFromConfig",void 0),g.assertValidConfig(b),this.name=b.name,this.content=b.content,this.edit=b.edit,this.paymentMethodId=b.paymentMethodId||this.name,this.supports={features:(null==b||null===(c=b.supports)||void 0===c?void 0:c.features)||["products"]},this.canMakePaymentFromConfig=b.canMakePayment}get canMakePayment(){return t(this.canMakePaymentFromConfig,this.supports.features,this.name)}}a(g,"assertValidConfig",a=>{var b,c;if(n(a,["name","content","edit"]),"string"!=typeof a.name)throw new TypeError("The name property for the express payment method must be a string");if("string"!=typeof a.paymentMethodId&&void 0!==a.paymentMethodId)throw new Error("The paymentMethodId property for the payment method must be a string or undefined (in which case it will be the value of the name property).");if(void 0!==(null===(b=a.supports)||void 0===b?void 0:b.features)&&!Array.isArray(null===(c=a.supports)||void 0===c?void 0:c.features))throw new Error("The features property for the payment method must be an array or undefined.");if(f(a.content,"content"),f(a.edit,"edit"),"function"!=typeof a.canMakePayment)throw new TypeError("The canMakePayment property for the express payment method must be a function.")});const u="wc/store/payment",l={},m={},B=b=>{let a;"function"==typeof b?(a=b(h),d()("Passing a callback to registerPaymentMethod()",{alternative:"a config options object",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/3404"})):a=new h(b),a instanceof h&&(l[a.name]=a)},v=b=>{let a;"function"==typeof b?(a=b(g),d()("Passing a callback to registerExpressPaymentMethod()",{alternative:"a config options object",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/3404"})):a=new g(b),a instanceof g&&(m[a.name]=a)},w=(a,b)=>{i[a]?console.error(`The namespace provided to registerPaymentMethodExtensionCallbacks must be unique. Callbacks have already been registered for the ${a} namespace.`):(i[a]={},Object.entries(b).forEach(([b,c])=>{"function"==typeof c?i[a][b]=c:console.error(`All callbacks provided to registerPaymentMethodExtensionCallbacks must be functions. The callback for the ${b} payment method in the ${a} namespace was not a function.`)}))},x=a=>{delete l[a];const{__internalRemoveAvailablePaymentMethod:b}=(0,r.dispatch)(u);b(a)},y=a=>{delete m[a];const{__internalRemoveAvailableExpressPaymentMethod:b}=(0,r.dispatch)(u);b(a)},z=()=>l,A=()=>m,b={};function o(a){return{..."object"==typeof b[a]&&Object.keys(b[a]).length>0?b[a]:{},...b.any}}function D(a){return d()("getRegisteredInnerBlocks",{version:"2.8.0",alternative:"getRegisteredBlockComponents",plugin:"WooCommerce Blocks"}),o(a)}const k=(d,a,b)=>{const c=typeof d[a];if(c!==b)throw new Error(`Incorrect value for the ${a} argument when registering a block component. It was a ${c}, but must be a ${b}.`)},F=(b,a)=>{if(b[a]){if("function"==typeof b[a])return;if(b[a].$$typeof&&b[a].$$typeof===Symbol.for("react.lazy"))return}throw new Error(`Incorrect value for the ${a} argument when registering a block component. Component must be a valid React Element or Lazy callback.`)};function s(a){a.context||(a.context="any"),k(a,"context","string"),k(a,"blockName","string"),F(a,"component");const{context:c,blockName:d,component:e}=a;b[c]||(b[c]={}),b[c][d]=e}function H(a){d()("registerInnerBlock",{version:"2.8.0",alternative:"registerBlockComponent",plugin:"WooCommerce Blocks",hint:'"main" has been replaced with "context" and is now optional.'}),k(a,"main","string"),s({...a,context:a.main})}(this.wc=this.wc||{}).wcBlocksRegistry=j})()