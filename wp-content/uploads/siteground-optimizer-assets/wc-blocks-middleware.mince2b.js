(()=>{"use strict";var a={n:b=>{var c=b&&b.__esModule?()=>b.default:()=>b;return a.d(c,{a:c}),c},d:(d,c)=>{for(var b in c)a.o(c,b)&&!a.o(d,b)&&Object.defineProperty(d,b,{enumerable:!0,get:c[b]})},o:(a,b)=>Object.prototype.hasOwnProperty.call(a,b),r:a=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},d={},e;a.r(d);const h=window.wp.apiFetch;e=a.n(h);let b="",c=0;try{const d=window.localStorage.getItem("storeApiNonce"),a=d?JSON.parse(d):{};b=(null==a?void 0:a.nonce)||"",c=(null==a?void 0:a.timestamp)||0}catch{}const f=(a,d)=>{a!==b&&(c&&d<c||(b=a,c=d||Date.now()/1e3,window.localStorage.setItem("storeApiNonce",JSON.stringify({nonce:b,timestamp:c}))))},g=a=>{const c=a.headers||{};return a.headers={...c,Nonce:b},a};e().use((a,d)=>{var b,c;return(a=>{const b=a.url||a.path;return!(!b||!a.method||"GET"===a.method)&&null!==/wc\/store\/v1\//.exec(b)})(a)&&(a=g(a),Array.isArray(null===(b=a)||void 0===b||null===(c=b.data)||void 0===c?void 0:c.requests)&&(a.data.requests=a.data.requests.map(g))),d(a,d)}),e().setNonce=a=>{const b="function"==typeof(null==a?void 0:a.get)?a.get("Nonce"):a.Nonce,c="function"==typeof(null==a?void 0:a.get)?a.get("Nonce-Timestamp"):a["Nonce-Timestamp"];b&&f(b,c)},f(wcBlocksMiddlewareConfig.storeApiNonce,wcBlocksMiddlewareConfig.storeApiNonceTimestamp),(this.wc=this.wc||{}).wcBlocksMiddleware=d})()